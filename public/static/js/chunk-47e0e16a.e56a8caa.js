(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-47e0e16a"],{"098d":function(t,e,n){},"626f":function(t,e,n){"use strict";n.r(e),n("7db0"),n("d3b7");var i=n("b775"),a={name:"SettingsUsers",data:function(){return{tableData:[],loading:!1,cond:void 0,tableTotal:0,children:"",tableY:230,isSelect:{}}},created:function(){this.doSearch()},methods:{doSearch:function(){var t=this;this.loading=!0;var e=this.$refs.usersTable,n=10,a=1;e&&(n=e.showPages,a=e.pageIndex),function(t){return i.a.post("/api/user/search",t)}({cond:this.cond,offset:a,pageSize:n}).then((function(e){t.tableData=e.users,t.tableTotal=e.total})).catch((function(){t.tableData=[],t.tableTotal=0})).finally((function(){t.loading=!1,t.tableData.find((function(e){return t.isSelect._id===e._id}))||(t.isSelect={})}))},goBack:function(){this.$router.back(-1)},openCreate:function(){},onResize:function(){this.tableY=window.innerHeight-427},rowClass:function(t){if(t._id===this.isSelect._id)return"rowSelected"},rowClick:function(t){var e=this;return{on:{click:function(){e.selectedRow(t)},dblclick:function(){e.openModify(t)}}}},selectedRow:function(t){this.isSelect=t},openDelete:function(t){},initDoSearh:function(){var t=this.$refs.usersTable;t&&(t.pageIndex=1),this.doSearch()},openModify:function(t){},getAdminTypeLabel:function(t){switch(t){case"3RD":return this.$t("users.RD_Type");case"SYSTEM":return this.$t("users.SYSTEM_Type");case"NORMAL":return this.$t("users.NORMAL_Type")}}},computed:{tableColumns:{get:function(){return[{title:"".concat(this.$t("users.shopId")),width:150,dataIndex:"shopId"},{title:"".concat(this.$t("users.adminId")),width:150,dataIndex:"adminId"},{title:"".concat(this.$t("users.adminName")),width:150,dataIndex:"adminName"},{title:"".concat(this.$t("users.rights")),ellipsis:!0,dataIndex:"rights",width:200},{title:"".concat(this.$t("users.adminType")),width:100,dataIndex:"adminType",scopedSlots:{customRender:"adminType"}},{title:"".concat(this.$t("users.email")),dataIndex:"email",width:250},{title:"".concat(this.$t("users.supplierCode")),ellipsis:!0,dataIndex:"supplierCode"},{title:"".concat(this.$t("homePage.operation")),dataIndex:"",key:"action",fixed:"right",scopedSlots:{customRender:"action"},width:60,align:"center"}]}}}},s=(n("a6c6"),n("2877")),o=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"card-title"},[n("v-container",{staticClass:"card-container",attrs:{fluid:""}},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"group-item"},[n("v-text-field",{attrs:{label:t.$t("users.searchCond")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initDoSearh(e)}},model:{value:t.cond,callback:function(e){t.cond=e},expression:"cond"}})],1),n("v-spacer"),n("div",{staticClass:"card-search-btn"},[n("v-btn",{attrs:{rounded:"",dark:""},on:{click:function(e){return t.doSearch()}}},[t._v(" "+t._s(t.$t("homePage.search"))+" ")])],1)],1)])],1),n("v-card",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"card-body"},[n("app-table",{ref:"usersTable",attrs:{columns:t.tableColumns,dataSource:t.tableData,rowKey:function(t){return t._id},loading:t.loading,total:t.tableTotal,scroll:{x:1e3,y:t.tableY},rowClassName:t.rowClass,customRow:t.rowClick},on:{change:t.doSearch},scopedSlots:t._u([{key:"adminType",fn:function(e){var i=e.record;return[n("div",{staticClass:"text-ellipsis"},[t._v(" "+t._s(t.getAdminTypeLabel(i))+" ")])]}},{key:"action",fn:function(e){var i=e.record;return[n("v-menu",{attrs:{bottom:"",left:"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{icon:"",small:""},on:{click:function(e){return t.selectedRow(i)}}},a),[n("v-icon",{staticStyle:{color:"#0055b8"}},[t._v(" more_vert ")])],1)]}}],null,!0)},[n("v-list",{staticClass:"option-menu-list"},[n("v-list-item",{on:{click:function(e){return t.openModify(i)}}},[n("i",{staticClass:"material-icons create"}),n("v-list-item-title",[t._v(" "+t._s(t.$t("homePage.modify"))+" ")])],1),n("v-list-item",{on:{click:function(e){return t.openDelete(i)}}},[n("i",{staticClass:"material-icons highlight_off"}),n("v-list-item-title",[t._v(" "+t._s(t.$t("homePage.delete"))+" ")])],1)],1)],1)]}}])})],1),n("div",{staticClass:"card-bottom card-round-btn"},[n("v-btn",{attrs:{rounded:""},on:{click:function(e){return t.openCreate()}}},[t._v(t._s(t.$t("homePage.create")))]),n("v-btn",{attrs:{rounded:""},on:{click:function(e){return t.goBack()}}},[t._v(t._s(t.$t("homePage.goback")))])],1)],1)}),[],!1,null,"2601a50e",null);e.default=o.exports},a6c6:function(t,e,n){"use strict";n("098d")}}]);